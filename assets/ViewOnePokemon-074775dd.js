import{r as f,c as O,u as j,o as s,a as n,b as e,F as y,d as x,n as g,e as b,f as a,g as T,h as M,t as m,i as v,j as C,k as B,w as k,P as E,l as L,m as N}from"./index-8dc61976.js";const P={ref:"target",class:"bg-white flex flex-col rounded-t-3xl p-4 pt-8"},z={class:"flex justify-between"},R=["onClick"],V={class:"overflow-hidden flex w-full flex-grow relative"},F={__name:"Menu",props:{items:Array},setup(h){const i=h,r=f(i.items[0]),l=O(()=>i.items.indexOf(r.value)),t=f<HTMLElement|null>null,d=f("0px"),{lengthX:p}=j(t,{passive:!1,onSwipe(_){d.value=`${p.value}px`},onSwipeEnd(_,u){var c;const o=(c=t.value)==null?void 0:c.offsetWidth;u==="left"&&p.value>o/2?r.value=i.items[l.value+1]??i.items[0]:u==="right"&&p.value<-o/2&&(r.value=i.items[l.value-1]??i.items[i.items.length-1]),d.value="0px"}});return(_,u)=>(s(),n("div",P,[e("div",z,[(s(!0),n(y,null,x(h.items,o=>(s(),n("div",{class:g(["cursor-pointer",{"border-b-2":r.value===o}]),onClick:c=>r.value=o,key:o},null,10,R))),128))]),e("div",V,[(s(!0),n(y,null,x(h.items,(o,c)=>(s(),n("div",{class:"shrink-0 w-full absolute",key:o,style:b(`transform: translateX(calc(${(c-a(l))*100}% - ${d.value}))`)},[T(_.$slots,o.toLowerCase().replace(/ /g,"-"))],4))),128))])],512))}};const A=e("div",{class:"w-32 h-32 bg-white/20 absolute rotate-[80deg] -translate-x-6 pointer-events-none -translate-y-10"},null,-1),K={class:"absolute right-16 gap-2 grid grid-cols-5 grid-rows-3"},q={class:"h-[5px] w-[5px] rounded-full bg-white/20"},D={class:"flex justify-between text-white"},H=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"},null,-1),I=[H],X={class:"relative flex items-center justify-center"},Q=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})],-1),U={key:0,class:"flex justify-between mt-4"},W={class:"text-white slide-in"},G={key:1,class:"flex justify-between"},J={class:"flex gap-2 types"},Y={class:"text-white slide-in"},Z={class:"relative z-10 flex justify-center -translate-y-full mt-8"},ee=["src"],te={class:"select-none text-black/20 text-2xl"},ne={__name:"ViewOnePokemon",props:{id:Number},setup(h){const r=`https://pokeapi.co/api/v2/pokemon/${h.id}/`,{data:l}=M({queryKey:["pokemon",r],queryFn:()=>fetch(r).then(u=>u.json()),staleTime:1/0}),t=f(!0),d=f(),p=f(),_=async()=>{t.value?p.value.style.viewTransitionName="pokemon-name-top":d.value.style.viewTransitionName="pokemon-name",document.startViewTransition(()=>{t.value?p.value.style.viewTransitionName="":d.value.style.viewTransitionName="",t.value=!t.value})};return(u,o)=>{var c,$;return s(),n("div",{class:"h-full w-full relative overflow-hidden",style:b(`background-color: ${a(E)[a(l).types[0].type.name]??a(L)}`)},[A,e("div",K,[(s(),n(y,null,x(3*5,w=>e("div",q)),64))]),e("div",{class:g(["p-4 flex flex-col pt-12",{"h-1/2":t.value}])},[e("div",D,[(s(),n("svg",{onClick:o[0]||(o[0]=w=>u.$router.push("/")),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 cursor-pointer"},I)),t.value?v("",!0):(s(),n("span",{key:0,ref_key:"pokemonNameTopRef",ref:d,class:"text-white pokemon-name-top font-bold capitalize"},m(a(l).name),513)),e("div",X,[Q,t.value?v("",!0):(s(),C(N,{key:0,class:"absolute w-32 h-32 animate-[spin_5000ms_linear_infinite]"}))])]),t.value?(s(),n("div",U,[e("span",{ref_key:"pokemonNameRef",ref:p,class:"text-white text-3xl pokemon-name font-bold capitalize"},m(a(l).name),513),e("span",W," #"+m(a(l).id.toString().padStart(3,"0")),1)])):v("",!0),t.value?(s(),n("div",G,[e("ul",J,[(s(!0),n(y,null,x(a(l).types,(w,S)=>(s(),n("li",{class:"bg-white/50 text-white px-2 py-1 rounded-xl",key:w.type.name,style:b(`view-transition-name: pokemon-type-${S}`)},m(w.type.name),5))),128))]),e("span",Y,m(($=(c=u.species)==null?void 0:c.genera)==null?void 0:$[7].genus),1)])):v("",!0)],2),e("div",Z,[t.value?(s(),C(N,{key:0,class:"absolute w-52 h-52 animate-[spin_5000ms_linear_infinite]"})):v("",!0),t.value?(s(),n("img",{key:1,class:"w-48 pokemon-image",src:`https://raw.githubusercontent.com/HybridShivam/Pokemon/master/assets/images/${a(l).id.toString().padStart(3,"0")}.png`},null,8,ee)):v("",!0)]),B(F,{onClick:_,class:g([t.value?"translate-y-1/2":"translate-y-32","absolute menu transition-transform bottom-0 w-full h-full"]),items:["About","Base stats","Evolution","Moves"]},{about:k(()=>[e("span",te,"Click here to "+m(t.value?"collapse":"expand"),1)]),"base-stats":k(()=>[]),evolution:k(()=>[]),moves:k(()=>[]),_:1},8,["class"])],4)}}};export{ne as default};
